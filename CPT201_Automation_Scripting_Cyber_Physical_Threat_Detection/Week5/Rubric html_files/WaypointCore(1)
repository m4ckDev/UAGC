var Waypoint;(function(){var n=new Image;n.src="/media/images/loading-big.gif"})(),function(n,t){Waypoint=Waypoint||{};var i="waypoint.refreshHash",u=function(n){return(n+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")},f=function(n,t){var i={},s={},f=0,h="",e={},u={},r={},o={};if(e[0]="HTML_SPECIALCHARS",e[1]="HTML_ENTITIES",u[0]="ENT_NOQUOTES",u[2]="ENT_COMPAT",u[3]="ENT_QUOTES",r=isNaN(n)?n?n.toUpperCase():"HTML_SPECIALCHARS":e[n],o=isNaN(t)?t?t.toUpperCase():"ENT_COMPAT":u[t],r!=="HTML_SPECIALCHARS"&&r!=="HTML_ENTITIES")throw new Error("Table: "+r+" not supported");i["38"]="&amp;";r==="HTML_ENTITIES"&&(i["160"]="&nbsp;",i["161"]="&iexcl;",i["162"]="&cent;",i["163"]="&pound;",i["164"]="&curren;",i["165"]="&yen;",i["166"]="&brvbar;",i["167"]="&sect;",i["168"]="&uml;",i["169"]="&copy;",i["170"]="&ordf;",i["171"]="&laquo;",i["172"]="&not;",i["173"]="&shy;",i["174"]="&reg;",i["175"]="&macr;",i["176"]="&deg;",i["177"]="&plusmn;",i["178"]="&sup2;",i["179"]="&sup3;",i["180"]="&acute;",i["181"]="&micro;",i["182"]="&para;",i["183"]="&middot;",i["184"]="&cedil;",i["185"]="&sup1;",i["186"]="&ordm;",i["187"]="&raquo;",i["188"]="&frac14;",i["189"]="&frac12;",i["190"]="&frac34;",i["191"]="&iquest;",i["192"]="&Agrave;",i["193"]="&Aacute;",i["194"]="&Acirc;",i["195"]="&Atilde;",i["196"]="&Auml;",i["197"]="&Aring;",i["198"]="&AElig;",i["199"]="&Ccedil;",i["200"]="&Egrave;",i["201"]="&Eacute;",i["202"]="&Ecirc;",i["203"]="&Euml;",i["204"]="&Igrave;",i["205"]="&Iacute;",i["206"]="&Icirc;",i["207"]="&Iuml;",i["208"]="&ETH;",i["209"]="&Ntilde;",i["210"]="&Ograve;",i["211"]="&Oacute;",i["212"]="&Ocirc;",i["213"]="&Otilde;",i["214"]="&Ouml;",i["215"]="&times;",i["216"]="&Oslash;",i["217"]="&Ugrave;",i["218"]="&Uacute;",i["219"]="&Ucirc;",i["220"]="&Uuml;",i["221"]="&Yacute;",i["222"]="&THORN;",i["223"]="&szlig;",i["224"]="&agrave;",i["225"]="&aacute;",i["226"]="&acirc;",i["227"]="&atilde;",i["228"]="&auml;",i["229"]="&aring;",i["230"]="&aelig;",i["231"]="&ccedil;",i["232"]="&egrave;",i["233"]="&eacute;",i["234"]="&ecirc;",i["235"]="&euml;",i["236"]="&igrave;",i["237"]="&iacute;",i["238"]="&icirc;",i["239"]="&iuml;",i["240"]="&eth;",i["241"]="&ntilde;",i["242"]="&ograve;",i["243"]="&oacute;",i["244"]="&ocirc;",i["245"]="&otilde;",i["246"]="&ouml;",i["247"]="&divide;",i["248"]="&oslash;",i["249"]="&ugrave;",i["250"]="&uacute;",i["251"]="&ucirc;",i["252"]="&uuml;",i["253"]="&yacute;",i["254"]="&thorn;",i["255"]="&yuml;");o!=="ENT_NOQUOTES"&&(i["34"]="&quot;");o==="ENT_QUOTES"&&(i["39"]="&#39;");i["60"]="&lt;";i["62"]="&gt;";for(f in i)h=String.fromCharCode(f),s[h]=i[f];return s},e=function(n,t){var i={},u="",r="",e="";if(r=n.toString(),!1===(i=f("HTML_ENTITIES",t)))return!1;i["'"]="&#039;";for(u in i)e=i[u],r=r.split(u).join(e);return r},o=function(){var r=t.location.href,u=r.lastIndexOf("#");u>=0&&(u!==r.length-1&&n.cookie(i,r.substring(u+1)),r=r.substring(0,u));t.location.href=r},s=function(){var r=n.cookie(i);r!==undefined&&r!=null&&(t.location.href+="#"+r,n.cookie(i,null))},h=function(n){t.location=n},c=function(){var n={ellipsis:8230,greaterThan:62,lessThan:60};return function(t){return typeof n[t]!="undefined"?String.fromCharCode(n[t]):""}}(),l=function(n){for(var r=n.split("."),u=t,f=0,i=0,e=r.length;i<e;i++)typeof u[r[i]]=="undefined"&&(u[r[i]]={},f++),u=u[r[i]];return f},r={},a=function(n,t){var u="",i,f;try{return i=r[n],i||(f="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("p.push('")+"');}return p.join('');",i=new Function("obj",f),r[n]=i),i(t)}catch(e){u=e.message}return"< # ERROR: "+u.htmlEncode()+" # >"},v=function(){return t.location.protocol+"//"+t.location.host+"/"},p=function(){var i=[],f=10,e="38,38,40,40,37,39,37,39,66,65",o=100,s=100,h="iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjVJivzgAAADAklEQVQ4T4WUiTNVYRjG7z9gxqiRfTBSsmXfKqGiLGUiqju2LNGM7JFCsiRKNSTLlJKyFiPcCGNESfblUnbZuyLroHk65zPRDdOZeeec+c77/t73eb7vHAZjm2t6bgV9o4uo/zKLpu5ZdA7OY37pF7bL51qf+LGM6tZpFNdykPd+EunvxpFYMILojEEEpvQirWQMnJnl7WHsgXmU1E2B9YmDfArwggIkvxlBbPYQQp/2wyu+G7aRbNhEsNHSM7cZ1No7h4Ka7yRyKieQyhpFRtk4ItMHcP1xH3wTuuFypwuWwW3Q92zCIfcG9Az/BZqcXkZm+TgyKyaQXjqGhPxhhKf1Y4HygIZcuN1JJrAObYehbzNUXT5D0aYUlv5lG9MUf+QgpXCEaL+bNYSApB7Y3WKThNmFVbjFduGodxMMvJqg4VoPRdtyyFpmQdokEayqr2DQ3WIyh6gYRPjzAfg+6gEzvIMU/XH85/wq8UHtYj2UHKogZ/WKACQMIuARlg1G9/ACApJ7SXdPyjj7qE4Y+7dA61IDl3EzFIgZ1k5kyJg/g+SRKIhqeUHXIgiMD+0zcIrpgmP0mu7TQW3Q82iEGqX73zPxpOgb5M8VYPeJeIgduIJdijaQ0bEFg94V82utOBnYCtOAFhzzaYY2NYWKMzckl9qx/XaV2GfxEhL6NyGg5AA+KSMo61qDQR8uuog2jA51SreKcx2UHWvXJ6EBtBf0FFLHH0BIzY0AeIRUYW3vvZZ3NrgOCsxiyJ8vggIdTBYVb8nLnIph8ix7JpeSEQdhDXcKYEgAdGTnreUxKhtGsfdUKnFc2vjhWpgkIIPFJmtSRvchfjgEgsqO4BXXWwfIaphieWVlw7vLEYVU4g2IHbwKUW0fiGh6QITqKqTqCoH9ttghbbJeTE/AJ6aJyuo6bvMXl1Zg45UEQcowfjkr7NxjRnTziutyFdMAfkmdDRlbfdb3kl5DTMEMPMLqm4ppgL6JPRqbO/7/S+BMzZBO7n7hYDr5kXtIZBxqahu3LP4N434uNWll430AAAAASUVORK5CYII=",r=null,c=function(){var i=0;return function(){var e={left:Math.floor(Math.random()*n(t).width()),top:Math.floor(Math.random()*n(t).height()),position:"absolute","z-index":999999},f=n("<img/>").attr("src","data:image/png;base64,"+h).css(e),s=Math.random()<.5;typeof f.fadeIn!="undefined"&&f.appendTo(document.body).fadeIn("slow",function(){t.setTimeout(function(){f.fadeOut("slow",function(){f.remove()})},500)});++i===o&&(t.clearInterval(r),r=null,i=0,n(t).bind("keydown",u))}}(),u=function(o){for(i.push(o.which);i.length>f;)i.pop();i.toString()===e&&(n(t).unbind("keydown",u),r=t.setInterval(c,s),i=[])};n(t).bind("keydown",u)}(),y={ENTER:13,ESC:27};(function(){n.extend(Waypoint,{htmlEntities:e,refresh:o,redirect:h,applyFragmentFromCookie:s,regexQuote:u,getSymbol:c,createNamespace:l,parseTemplate:a,getBaseUrl:v,keyCodes:y})})()}(jQuery,window),function(n){Waypoint=Waypoint||{};var t=null,i="/media/",s={autoOpen:!1,closeOnEscape:!1,draggable:!1,modal:!0,resizable:!1,title:"Please wait",width:300,dialogClass:"ui-dialog-loading"},h=function(n){i=n},f=function(){return i},c=function(){var n=new Image;n.src=i+"images/loading-big.gif"},e=function(i){r();t=n('<div id="loading-overlay" title="Please wait"><div style="height: 50px"><img src="'+f()+'images/loading-big.gif" height="32" width="32"/><p>'+(i||"Loading, please wait...")+"<\/p><\/div><\/div>");t.dialog(s);t.dialog("open")},r=function(){t!==null&&(t.dialog("destroy").remove(),t=null)},o=function(n){t!==null&&t.find("p").text(n)},l=function(t,i,f){i=i||u;t.ajaxForm({beforeSubmit:function(){e(f||"Sending data to server, please wait...")},success:function(n,t,r,u){typeof n.Error=="undefined"||n.Error!==null?i.call(null,n,t,r,u):(o("Refreshing the current page..."),Waypoint.refresh())},error:function(u,f){var e=null;try{e=n.secureEvalJSON(u.responseText)}catch(o){e=u.responseText}i.call(this,e,f,t);r()}})},u=function(n){alert(n.Error||"An unknown error occurred")},a=function(){for(var r,i=n("input.hasDefaultText").get(),t=0,u=i.length;t<u;t++)r=i[t].value,n(i[t]).focus(function(){n.trim(this.value)===r&&(this.value="")}).blur(function(){n.trim(this.value)===""&&(this.value=r)})},v=function(){n(this).dialog("close")},y=function(n){return n+="",n=n.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n.replace(/"/g,"&quot;")},p=function(n){return n+="",n=n.replace(/&amp;/g,"&"),n=n.replace(/&lt;/g,"<"),n=n.replace(/&gt;/g,">"),n=n.replace(/&#39;/g,"'"),n.replace(/&quot;/g,'"')},w=function(){var n=window.location,t=n.protocol+"//"+n.host+"/Account/LogOn?ReturnUrl="+n;window.location=t};(function(){n.extend(Waypoint,{getMediaPath:f,setMediaPath:h,preloadImages:c,createLoadingOverlay:e,removeLoadingOverlay:r,changeLoadingOverlayText:o,setupFormForAjaxSubmitAndRefresh:l,alertBoxErrorHandler:u,defaultErrorHandler:u,closeDialog:v,htmlEncode:y,htmlDecode:p,AuthenticateErrorHandler:w});n(document).ready(function(){Waypoint.applyFragmentFromCookie();a()})})()}(jQuery),function(n,t){var r,i;Waypoint=Waypoint||{};Waypoint.sidebar=Waypoint.sidebar||{};r=[];Waypoint.sidebar.init=function(){i=t("#sidebar-dialog");e();o();for(var n=0;n<r.length;n++)r[n].init()};Waypoint.sidebar.add=function(n){var u={},e,h;r.push(u);h={linkSelector:"body",getContentUrl:function(){return"/media/blank.html"},external:!1};n=t.extend({},h,n);var a=function(){e=t(n.linkSelector);w();p()},v=function(){s()?y():c()},c=function(){o()&&(t("#sidebar-content-frame").hide(),k(function(){e.addClass("active");t("#sidebar-content-frame").show()}));b()},y=function(){o()&&(t("#sidebar-content-frame").hide(),d(function(){e.removeClass("active")}))},p=function(){e.css("display","block")},w=function(){n.external||e.click(function(){return v(),!1})},o=function(){return i.length>0},s=function(){return i.css("display")!="none"},b=function(){var i=t("#sidebar-content-frame").attr("src");i!=n.getContentUrl()&&(t("#sidebar-dialog").addClass("loading"),t("#sidebar-content-frame").attr("src",n.getContentUrl()))},k=function(n){function r(u,f){if(i.css("right",u-t+"px"),e.css("right",u+"px"),u<f){var o=Math.min(u+40,f);setTimeout(function(){r(o,f)},30)}else n()}if(!s()){nt();var t=l().width;i.css({display:"block",right:"-"+t+"px"});r(0,t)}},d=function(n){function r(u,f){if(i.css("right",u-t+"px"),e.css("right",u+"px"),u>f){var o=Math.max(u-40,f);setTimeout(function(){r(o,f)},30)}else i.css("display","none"),n(),g()}if(s()){var t=l().width;r(t,0)}},g=function(){for(var n=0;n<r.length;n++)t(r[n].options.linkSelector).show()},nt=function(){for(var n=0;n<r.length;n++)r[n]!=u&&t(r[n].options.linkSelector).hide()},l=function(){return f(i)};return u.options=n,u.init=a,u.show=c,u.isDialog=o,u};var e=function(){u();t(n).resize(function(){u()})},o=function(){t("#sidebar-content-frame").load(function(){t("#sidebar-dialog").removeClass("loading")})},u=function(){var n=f(t("#sidebar-body"));t("#sidebar-content-frame").css({height:n.height+"px",width:n.width+"px"})},f=function(n){var r=i.css("display"),t,u;return r==="none"?(u=i.css("visibility"),i.css({visibility:"hidden",display:"block"}),t={width:n.outerWidth(),height:n.outerHeight()},i.css({visibility:u,display:r})):t={width:n.outerWidth(),height:n.outerHeight()},t}}(window,jQuery),function(){Waypoint=Waypoint||{};Waypoint.community=Waypoint.sidebar.add({linkSelector:"#community-link",getContentUrl:function(){return"https://community.waypointoutcomes.com"},external:!0})}(jQuery,Waypoint),function(n,t,i){Waypoint=Waypoint||{};Waypoint.help=Waypoint.sidebar.add({linkSelector:"#help-link",getContentUrl:function(){return"/Help/Index?urlContext="+encodeURIComponent(r())},external:!1});var r=function(){var n=i("#HelpContext").val();return n!=null?n:""},u=function(){var n=/urlContext=([^&]+)/;return n.test(t.search)?decodeURIComponent(n.exec(t.search)[1]):""}}(window,window.location,jQuery),function(n,t){Waypoint=Waypoint||{};Waypoint.loginWidget={};var i,r=function(){t("#logged-in-container").mouseover(function(){clearTimeout(i);t("#logged-in-menu").show()});t("#logged-in-container").mouseout(function(){i=setTimeout(function(){t("#logged-in-menu").hide()},500)});t("a#logOff").live("click",function(){t.cookie("HiddenSections",null);t.cookie("UnhiddenSections",null);t(this).attr("href","/Account/LogOff")})};Waypoint.loginWidget.init=r}(window,jQuery),function(n,t){Waypoint=Waypoint||{};Waypoint.breadcrumbManager=function(n){function f(){u=h();u.html("");e({title:Waypoint.htmlDecode(n.topText),onClick:n.onClickTop},-1);c();for(var t=Math.max(0,i.length-n.maxDisplayedBreadcrumbs);t<i.length;t++)e(i[t],t)}function h(){var r=t(n.containerSelector),i=t(".breadcrumb-container",r);return i.length<=0&&(i=t('<div class="breadcrumb-container"><\/div>'),r.append(i)),i}function c(){i.length>n.maxDisplayedBreadcrumbs&&o(t('<span class="breadcrumb-ellipsis">...<\/span>'))}function e(n,t){var i=l(n,t);o(i)}function l(n,r){var u;return u=r<i.length-1?a(n,r):t("<span><\/span>"),u.addClass("ellipsis").addClass("breadcrumb"),u.text(Waypoint.htmlDecode(n.title)).attr("title",Waypoint.htmlDecode(n.title))}function a(n,i){var r=t('<a href="#breadcrumb"><\/a>');return r.click(function(t){return t.preventDefault(),v(n,i),!1}),r}function o(n){u[0].hasChildNodes()&&u.append(t('<span class="breadcrumb-separator"><\/span>').text(" >> "));u.append(n)}function v(n,t){n.onClick();i=i.slice(0,t+1);f()}var r={},i=[],u,s={containerSelector:"body",onClickTop:function(){},maxDisplayedBreadcrumbs:4,topText:"Top"};return n=t.extend({},s,n),r.add=function(n,t){i.push({title:n,onClick:t});f()},r.clear=function(){i=[];f()},r.pop=function(){var n=i.pop();return f(),n},r.shift=function(){return i.shift()},r.count=function(){return i.length},r}}(window,jQuery),function(n){Waypoint=Waypoint||{};Waypoint.createJqGridHelper=function(t){return{setUrl:function(i){n(t).jqGrid("setGridParam",{url:i})},reload:function(){n(t).trigger("reloadGrid")}}};Waypoint.picklist=function(t){function u(n){var r=[],u,i;for(u in n)r.push(encodeURIComponent(u)+"="+encodeURIComponent(n[u]));i=t.gridDataUrl;r.length>0&&(i+=(i.indexOf("?")>=0?"&":"?")+r.join("&"));f.setUrl(i);f.reload()}function p(){n("#picklist-grid").jqGrid({url:t.gridDataUrl,datatype:"json",mtype:"GET",colNames:[t.titleColumnHeaderText,"# Items","Expand","Select"],colModel:[{name:t.titleColumnHeaderText,index:"title",width:200,sortable:!1,align:"left"},{name:"# Items",index:"children",width:40,sortable:!1,hidden:!t.multilevel,align:"center",title:!1,formatter:b},{name:"Expand",index:"expand",width:30,sortable:!1,hidden:!t.multilevel,align:"center",title:!1,formatter:k},{name:"Select",index:"select",width:30,sortable:!1,align:"center",title:!1,formatter:d}],rowNum:50,width:580,height:323,scroll:1,loadComplete:function(){n("#picklist-selected-list li").each(function(){s(n(this).attr("data-item-id"))});n(".select-button:first").addClass("work-around-ie-8")}})}function w(){function f(r){n(r).delegate("#picklist-grid .select-button","click",function(){if(n(this).hasClass("disabled"))return!1;var r=parseInt(n(this).attr("data-item-id"),10),u=n("#picklist-grid").jqGrid("getRowData",r),f=u[t.titleColumnHeaderText];return i.selectItem(r,f),!1})}function e(t){n(t).delegate("#picklist .expand-button","click",function(){var t=n(this),i={parent_id:t.attr("data-item-id")};r.add(t.attr("data-title"),function(){u(i)});u(i)})}function o(t){n(t).delegate("#picklist .list-selection-remove a","click",function(){var t=parseInt(n(this).attr("data-item-id"),10);return i.deselectItem(t),!1})}function s(t){n(t).delegate("#picklist-buttons a","click",function(){switch(n(this).attr("data-action")){case"cancel":return i.hide(),!1;case"submit":return i.saveSelections(),!1;default:return!1}})}function h(r){t.autoConfigureSearch==!0&&(n(r).delegate("#picklist-search-form","submit",function(){var t=n("#search-box",r).val();i.search({q:t})}),n(r).delegate("#picklist-search-btn","click",function(t){var u=n("#search-box",r).val().indexOf("Search by")==0?"":n("#search-box",r).val();return t.preventDefault(),i.search({q:u}),!1}));t.searchDelegate!=null&&t.searchDelegate(r,i)}f(i.div);e(i.div);o(i.div);s(i.div);h(i.div)}function e(){var t=n('<div id="picklist-save-error">An error occurred while trying to save your selections<\/div>');t.dialog({autoOpen:!0,width:300,title:"Error",modal:!0,buttons:{Ok:function(){n(this).dialog("close")}}})}function b(n){return parseInt(n,10)===0?"-":n}function k(t,i,r){var f=parseInt(r[y],10)>0,u;return f?(u=n('<a href="#expand" class="button expand-button" title="Expand">+<\/a>'),u.attr("data-item-id",i.rowId),u.attr("data-title",r[v]),n("<div><\/div>").append(u).html()):"&nbsp;"}function d(n,t){return'<a href="#select-item" data-item-id="'+t.rowId+'" class="button select-button" title="Select">&gt;<\/a>'}function g(t){return n("#picklist-selected-list li[data-item-id="+t+"]").length>0}function nt(t,i,r){var u=o(t,"Add"),f=tt(t,i,r,u==null?n("#RoleId").val():u);it(f);h()}function o(t,i){var u=null,r=n.parseJSON(n("#current-roles").val());for(var f in r)r[f].id==t&&(u=i=="Add"?r[f].role:null);return u}function tt(t,i,r,u){var f=n('<li data-item-id="'+t+'" data-item-status="'+r+'"><div class="list-selection-text">'+(r==2?'<div class="text ellipsis archive-text-picklist"><\/div>':'<div class="text ellipsis"><\/div>')+(window.USER_ID=="undefined"||window.USER_ID!==t?'<div class="list-selection-remove"><a href="#unselect-item" data-item-id="'+t+'"><span>remove<\/span><\/a><\/div>':"")+"<\/div><\/li>"),e=n("#ui-dialog-modal-type").val()=="Share_Rubrics"?"Remove User Permission":"Remove from Roster",o;return window.USER_ID!=="undefined"&&window.USER_ID===t&&(e="Current Owner"),r==2?n(".list-selection-text",f).attr("title","Archived"):u==null?n(".list-selection-text",f).attr("title",i):n(".list-selection-text",f).attr("title",e),o=n("#ui-dialog-modal-type").val()=="Share_Rubrics"?"Permission":"Member Role",u==null?n(".list-selection-text div.text",f).text(i):n(".list-selection-text div.text",f).text(i).append("<br>"+o,window.USER_ID=="undefined"||window.USER_ID!==t?ft(u,t):et(u,t)),f}function it(t){for(var r,u=n("#picklist-selected-list"),f=n("li",u),e=n.trim(n(".text",t).text().toLowerCase()),i=0;i<f.length;i++)if(r=n(f[i]),e<n.trim(r.text().toLowerCase())){r.before(t);return}u.append(t)}function rt(t){n("#picklist-selected-list li[data-item-id="+t+"]").remove();o(t,"Remove");h()}function s(t){n(".select-button[data-item-id="+t+"]").addClass("selected")}function ut(t){n(".select-button[data-item-id="+t+"]").removeClass("selected")}function h(){var t=n("#picklist-add-tip");l()>0?t.hide():t.show()}function c(){n("#count-selection-from-grid").text(l())}function l(){return n("#picklist-selected-list li").length}function ft(t,i){var u=n("<select id='userRole"+i+"' style='margin-top: 3px; width: 120px'><\/select>"),r;return n("#RoleId option").each(function(){r=n("<option value="+n(this).attr("value")+" title="+n(this).text()+">"+(n(this).text().length>20?n(this).text().substring(0,20)+"...":n(this).text())+"<\/option>");n(this).attr("value")==t&&r.attr("selected","selected");u.append(r)}),u}function et(t,i){var r=n("<span><\/span>");return n("#RoleId option").each(function(){n(this).attr("value")==t&&r.html(": <strong>"+n(this).text()+"<\/strong>")}),r.append(n("<input/>",{id:"userRole"+i,value:t,type:"hidden"})),r}var i={},f=Waypoint.createJqGridHelper("#picklist-grid"),r=Waypoint.breadcrumbManager({containerSelector:"#picklist-breadcrumbs",onClickTop:function(){r.clear();u({})}}),a={autoConfigureSearch:!1,searchDelegate:null,titleColumnHeaderText:"Title",gridDataUrl:null,multilevel:!1,getInitialSelectedItems:function(){return[]},saveUrl:null,getSaveData:function(){throw{name:"NotImplemented",message:"getSaveData not implemented"};},onSave:function(){}};t=n.extend({},a,t);i.show=function(u,f){i.div=n('<div id="modal-window-picklist"'+(t.multilevel?'class="picklist-multilevel"':"")+"><\/div>");w();Waypoint.createLoadingOverlay();i.div.load(f,function(t,i,r){var u=n(this);Waypoint.removeLoadingOverlay();r.status===200?e():s(t)});var e=function(){var f={autoOpen:!0,width:920,title:u,modal:!0,closeOnEscape:!1,dialogClass:"lightgrey2",resizable:!1,open:function(){n("#search-box")!=null&&n("#search-box").blur()}};i.div.dialog(f);o();i.selectItems(t.getInitialSelectedItems());r.clear();p()},o=function(){if(n("#ui-dialog-modal-type").val()=="Share_Rubrics")n("#DefaultPermissionsHelp").wpPopup({action:"click",title:"What is this?",height:100,width:239,content:'<ul style="padding-left: 15px !important"><li>A <b>Viewer<\/b> has full Read-Access to a folder<\/li><li>An <b>Editor<\/b> has full Read/Write Access to a folder<\/li><li>An <b>Owner<\/b> has full Read/Write Access to a folder., with the ability to manage (Add, Remove, Change Access-type, Share Rubrics) people in a folder<\/li><\/ul>'})},s=function(t){var r=h(t),u={autoOpen:!0,width:500,title:"Action Required",modal:!0,closeOnEscape:!0,dialogClass:"lightgrey2",resizable:!1,buttons:{Close:function(){i.div.dialog("close")}}};i.div.dialog(u);i.div.append(n('<div class="alert-icon"><\/div>'));r&&r.success===!1&&i.div.append(n('<div style="margin-top: 1em;"><\/div>').text(r.error))},h=function(t){try{return n.parseJSON(t)}catch(i){return null}}};i.hide=function(){n("#modal-window-picklist").dialog("close").remove()};i.selectItem=function(n,t,i){g(n)||(nt(n,t,i),s(n),c())};i.deselectItem=function(n){rt(n);ut(n);c()};i.selectItems=function(n){if(n!==null)for(var t=0;t<n.length;t++)i.selectItem(n[t].id,n[t].title,n[t].state)};i.search=function(n){r.clear();r.add("Search results",function(){u(n)});u(n)};i.saveSelections=function(){Waypoint.createLoadingOverlay("Saving data, please wait...");n.ajax({url:t.saveUrl,type:"POST",data:t.getSaveData(),traditional:!0,success:function(n){n.success?(t.onSave(),i.hide()):e()},error:function(){e()},complete:function(){Waypoint.removeLoadingOverlay()}})};i.getSelectedItemIds=function(){var i=[],r=n("#picklist-selected-list li[data-item-id]"),t;return r.each(function(r,u){t=n(u).attr("data-item-id");n("#current-roles").val()==null||n("#current-roles").val()!=null&&n("#userRole"+t)==null?i.push(t):i.push(t+"-"+n("#userRole"+t).val())}),i};i.getSelectedItems=function(){var t=[],i=n("#picklist-selected-list li[data-item-id]");return i.each(function(i,r){t.push({id:n(r).attr("data-item-id"),title:n(".text",r).text(),status:n(r).attr("data-item-status")})}),t};var v=0,y=1;return i}}(jQuery),function(n){function i(i,u,f){n.ajax({url:u,type:"POST",data:r(i),success:function(r){r.Error?t(i,r.Error):(n(i).dialog("close").remove(),f(r))},error:function(r){if(r){var u=n.parseJSON(r.responseText);t(i,u.error)}},complete:function(){Waypoint.removeLoadingOverlay()}})}function t(t,i){var r=n("#user-message",t);i?(r.html(""),r.append('<div><img id="alert-icon" src="/media/images/evaluator/icon_alert.png" />'+i+"<\/div>")):r.html("Unexpected error has occurred, please try again later");r.removeClass("hide")}function r(t){var i={};return n(":input",t).each(function(){i[this.name]=n(this).val()}),i}Waypoint=Waypoint||{};Waypoint.dialog=Waypoint.dialog||{};var u=function(r,u,f){Waypoint.createLoadingOverlay();n.ajaxSetup({cache:!1});var e=n("<div id='content-container'><\/div>"),o=[];_.each(f,function(n){var r={text:n.text,"class":n["class"],id:"btn_"+n.text},f,s,h;n.click?(f=n,r.click=function(){f.click(function(){e.dialog("close").remove()},function(n){t(e,n)})}):n.saveUrl?(s=n.saveUrl,h=n.saveFunction,r.click=function(){(typeof u.validationFunction!="function"||u.validationFunction())&&(Waypoint.createLoadingOverlay("Saving data, please wait..."),setTimeout(function(){i(e,s,h)},500))}):r.click=function(){e.dialog("close").remove()};o.push(r)});u.autoOpen=!0;u.modal=!0;u.closeOnEscape=!1;u.resizable=!1;u.width=450;e.load(r,function(t,i){var s=n(this),f,r;i=="error"?(f=n.parseJSON(t),e.append(n('<div class="alert-icon"><\/div>')),e.append(n('<div style="margin-top: 1em;"><\/div>').text(f.error)),e.dialog("option","buttons",[{text:"Close",click:function(){e.dialog("close").remove()}}])):(e.dialog("option","buttons",o),r=n(".focus",e),r!=null&&r.focus());n(".submittable").keypress(function(t){t.keyCode==n.ui.keyCode.ENTER&&n(".default").click()});typeof u.onloadComplete=="function"&&u.onloadComplete();Waypoint.removeLoadingOverlay()});e.dialog(u)},f=function(t,i,r,u,f,e,o){var s,h;n("#modal-window").unbind().remove();s=n('<div id="modal-window"><\/div>');typeof o=="undefined"&&(o=300);h=[];e!=null&&h.push({text:e,id:"wp_dialog_right_button","class":"default",click:function(){s.dialog("close").remove();r()}});f!=null&&h.push({text:f,id:"wp_dialog_left_button",click:function(){s.dialog("close").remove();u!=null&&u()}});s.append(i);s.dialog({autoOpen:!0,modal:!0,width:o,title:t,buttons:h,resizable:!1})};Waypoint.dialog.showDialog=u;Waypoint.dialog.createModal=f}(jQuery);$.widget("ui.dialog",$.extend({},$.ui.dialog.prototype,{_title:function(n){this.options.title?n.html(this.options.title):n.html("&#160;")}})),function(n){Waypoint=Waypoint||{};Waypoint.grid=function(t){function s(i,r,u){var f,e="",o="";return n.isArray(u)?(f=u[t.gridOptions.primarykeyindex],t.gridOptions.titleindex!=undefined&&(e=u[t.gridOptions.titleindex]),t.gridOptions.typeindex!=undefined&&(o=u[t.gridOptions.typeindex])):(f=u.Id,u.Title!=null&&u.Title!=undefined&&(e=u.Title),u.Type!=null&&u.Type!=undefined&&(o=u.Type)),'<a href="#" class="action-button" data-primary-id="'+f+'" data-title="'+e+'" + data-type="'+o+'"><span class="text"><span>Actions<\/span><\/span><span class="arrow"><\/span><\/a>'}function e(){f=setTimeout(function(){o()},100)}function o(){n(t.actionMenuSelector).hide()}function h(){var i=n(t.searchSelector),u=function(u){return u.preventDefault(),Waypoint.util.grid.search(r,t.gridOptions.url,{q:n("input[name=query]",i).val()}),n(i).addClass("active-search"),!1},f=function(u){return u.preventDefault(),n("input[name=query]",i).val(""),Waypoint.util.grid.search(r,t.gridOptions.url,{}),n(i).removeClass("active-search"),!1};n("form",i).submit(u);n("a.search-clear-button",i).click(f);n("a.search-find-button",i).click(u)}var i={},r=n(t.gridSelector),u=n(t.actionMenuSelector),f=null;return i.init=function(){t.actionMenuSelector!=null&&(t.gridOptions.colNames.push("Actions"),t.gridOptions.colModel.push({name:"Actions",sortable:!1,formatter:s}),r.delegate(".action-button[data-primary-id]","mouseout",function(){e()}),u.mouseover(function(){clearTimeout(f)}),u.mouseout(function(){e()}),r.delegate(".action-button[data-primary-id]","mouseover",function(r){var o;clearTimeout(f);r.preventDefault();var e=n(this),s=e.attr("data-primary-id"),h=e.attr("data-title");return u.is(":visible")&&s==i.primaryId||(t.actionMenuHandler!=null&&t.actionMenuHandler(e),o=e.offset(),u.css({top:o.top,left:o.left,display:"block"})),i.primaryId=s,i.title=h,!1}),o());t.searchSelector!=null&&h();r.jqGrid(t.gridOptions);Waypoint.util.grid.initResizeHandler({headerSelector:t.headerSelector,gridSelector:t.gridSelector,hasPager:!0})},i}}(jQuery),function(n,t,i){Waypoint=Waypoint||{};Waypoint.util=Waypoint.util||{};Waypoint.util.grid=Waypoint.util.grid||{};var f=function(u){n(i).ready(function(){r(u)});n(t).resize(function(){r(u)})},r=function(i){i=n.extend({},{headerSelector:null,gridSelector:null,minWidth:900,hasPager:!1},i);var e=n(t),r=n(i.gridSelector),f=n(i.headerSelector),u=function(){var n,t,u,o;r.is(":visible")&&(n=r.offset(),t=e.height()-n.top-(i.hasPager?40:15),f[0]!=undefined&&(u=Math.max(f[0].offsetWidth-2,i.minWidth-2),r.setGridWidth(u)),o=r.height(),o>0&&r.setGridHeight(t))};u();setTimeout(u,200);setTimeout(u,400)},e=function(n,t,i){var r=[],f=t;for(var e in i)r.push(encodeURIComponent(e)+"="+encodeURIComponent(i[e]));r.length>0&&(f+=(f.indexOf("?")>=0?"&":"?")+r.join("&"));n.jqGrid("setGridParam",{datatype:"json",url:f,page:1});u(n)},u=function(n){n.trigger("reloadGrid")};Waypoint.util.grid.initResizeHandler=f;Waypoint.util.grid.fitGridToWindow=r;Waypoint.util.grid.search=e;Waypoint.util.grid.reload=u}(jQuery,window,document),function(n){n.fn.wpPopup=function(t){var l={action:"hover",title:"",content:"",edgeOffset:3,defaultPosition:"bottom",height:null,width:null,delay:400,fadeIn:200,fadeOut:200,preventDefault:!1,onShow:function(){},onHide:function(){}},i=n.extend(l,t),s="wp-container-popup",r,e,u;s+=i.action=="hover"?" wp-popup-hover":"";r=n('<div class="wp-container '+s+' " ><\/div>');i.width!=null&&r.width(i.width+"px");var f=n('<div class="wp-design"><\/div>'),o=n('<div class="popup-heading"><\/div>'),h=n('<div class="title"><\/div>'),c=n('<span id="close-popup" class="close-popup" alt="close" title="Close Popup"><\/span>');return i.action=="click"&&o.append(c),o.append(h),f.append(o),e=n('<div class="dialog-main-content" style="overflow:auto;"><\/div>'),i.height!=null&&e.css({"max-height":i.height+"px",overflow:"auto"}),f.append(e),u=n('<div class="dialog-arrow-down"><\/div>'),f.append(u),r.append(f).hide(),n("body").append(r),this.each(function(){function l(){var d,g;i.onShow.call(this);f&&clearTimeout(f);e.html(a);h.html(v);r.hide();var c=parseInt(t.offset().top),l=parseInt(t.offset().left),tt=parseInt(t.outerWidth()),y=parseInt(t.outerHeight()),p=r.outerWidth(),w=r.outerHeight(),k=Math.round((tt-p)/2),it=Math.round((y-w)/2),nt=Math.round(l+k),b=Math.round(c+y+i.edgeOffset),s=i.defaultPosition,rt=Math.round(p-40)/2,ut=Math.round(w-40)/2,ft=k+l<parseInt(n(window).scrollLeft()),et=p+l>parseInt(n(window).width());ft&&k<0||s=="right"&&!et||s=="left"&&l<p+i.edgeOffset+5?(s="right",nt=Math.round(l+tt+i.edgeOffset)+20,b=Math.round(c+it)):(et&&k<0||s=="left"&&!ft)&&(s="left",nt=Math.round(l-(p+i.edgeOffset+5))-20,b=Math.round(c+it));d=c+y+i.edgeOffset+w+8>parseInt(n(window).height()+n(window).scrollTop());g=c+y-(i.edgeOffset+w+8)<0;d||s=="bottom"&&d||s=="top"&&!g?(s=="top"||s=="bottom")&&(s="top",b=Math.round(c-(w+5+i.edgeOffset))-20):(g|(s=="top"&&g)||s=="bottom"&&!d)&&(s=="top"||s=="bottom")&&(s="bottom",b=Math.round(c+y+i.edgeOffset)+20);u.css({top:"",left:""});s=="top"?(u.attr("class","dialog-arrow-down"),u.css({left:rt+"px"})):s=="bottom"&&(u.attr("class","dialog-arrow-up"),u.css({left:rt+"px"}));s=="left"&&(u.attr("class","dialog-arrow-right"),u.css({top:ut+"px"}));s=="right"&&(u.attr("class","dialog-arrow-left"),u.css({top:ut+"px"}));r.css({left:nt+"px",top:b+"px"});o&&clearTimeout(o);o=setTimeout(function(){r.stop(!0,!0).fadeIn(i.fadeIn)},i.delay)}function s(){i.onHide.call(this);o&&clearTimeout(o);f&&clearTimeout(f);f=setTimeout(function(){r.stop(!0,!0).fadeOut(i.fadeOut)},i.delay)}var t=n(this),a=i.content,v=i.title,o,f;t.removeAttr("title");o=!1;f=!1;i.action=="hover"?(t.hover(function(){l()},function(){s()}),t.click(function(){s()}),r.hover(function(){f&&clearTimeout(f)},function(){s()})):(c.click(function(){s()}),t.click(function(n){return l(),i.preventDefault?(n.preventDefault(),!1):void 0}))})}}(jQuery),function(){Waypoint=Waypoint||{};Waypoint.dateFormatter={};var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=function(n,t){return typeof n=="string"&&(n=new Date(n)),u(n,t)},u=function(n,i){for(var r,f="",u=0;u<i.length;u++)r=i.substr(u,1),f+=t.hasOwnProperty(r)?t[r](n):r;return f},n={monthShort:function(n){return i[n.getMonth()]},dayWithNoLeadingZeros:function(n){return n.getDate()},yearFull:function(n){return n.getFullYear()},hour12:function(n){var t=n.getHours();return t==0?t=12:t>12&&(t-=12),t},minuteWithLeadingZeros:function(n){var t=""+n.getMinutes();return t.length<2&&(t="0"+t),t},meridiemLowerCase:function(n){return n.getHours()<12?"am":"pm"}},t={M:n.monthShort,j:n.dayWithNoLeadingZeros,Y:n.yearFull,g:n.hour12,i:n.minuteWithLeadingZeros,a:n.meridiemLowerCase};Waypoint.dateFormatter.format=r}(window)